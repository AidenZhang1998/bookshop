<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="zut.cs.network.bookshop.dao.UserDao">
   <resultMap type="zut.cs.network.bookshop.entity.User" id="MessageResult">
    <id column="ID" jdbcType="INTEGER" property="id"/>
    <result column="USERNAME" jdbcType="VARCHAR" property="username"/>
    <result column="PASSWORD" jdbcType="VARCHAR" property="password"/>
    <result column="GENDER" jdbcType="VARCHAR" property="gender"/>
    <result column="TELEPHONE" jdbcType="VARCHAR" property="telephone"/>
    <result column="INTRODUCE" jdbcType="VARCHAR" property="introduce"/>
    <result column="ACTIVECODE" jdbcType="VARCHAR" property="activecode"/>
  </resultMap>
    <!-- 添加用户 -->
    <insert id="AddUser" useGeneratedKeys="true" keyProperty="id" parameterType="zut.cs.network.bookshop.entity.User">
     INSERT INTO user(USERNAME,PASSWORD,GENDER,EMAIL,TELEPHONE,INTRODUCE,ACTIVECODE) 
    VALUES (#{username},#{password},#{gender},#{email},#{telephone},#{introduce},#{activecode})
    </insert>
     <!-- 查询所有 -->
    <select id="AllUser" resultType="zut.cs.network.bookshop.entity.User">
        SELECT * FROM user
    </select>
    <!-- 根据用户名查找用户信息 -->
    <select id="FindByName" resultType="zut.cs.network.bookshop.entity.User" parameterType="String">
        SELECT * FROM user WHERE username = #{username}
    </select>
    
    <!-- 删除 -->
    <delete id="DeleteUser" parameterType="int">
        DELETE FROM user WHERE id = #{id}
    </delete>
</mapper>